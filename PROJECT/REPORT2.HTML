<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tenaniko - Dumaguete City Service Hub</title>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;600;700&family=Trebuchet+MS:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-blue: #00AEEF;
            --primary-green: #22C55E;
            --pending-amber: #F59E0B;
            --in-progress-blue: #3B82F6;
            --resolved-green: #10B981;
            --declined-red: #EF4444;
            --glass-bg: rgba(255, 255, 255, 0.25);
            --glass-border: rgba(255, 255, 255, 0.3);
            --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.1);
            --backdrop-blur: blur(12px);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Trebuchet MS', sans-serif;
            background: linear-gradient(135deg, #0f172a, #0891b2);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
            color: white;
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://placehold.co/1920x1080/0f172a/0891b2?text=Dumaguete+Cityscape') center/cover no-repeat;
            filter: blur(4px) brightness(0.7);
            z-index: -1;
        }

        .glass-container {
            background: var(--glass-bg);
            backdrop-filter: var(--backdrop-blur);
            -webkit-backdrop-filter: var(--backdrop-blur);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            box-shadow: var(--shadow-lg);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .floating-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform: translateY(0);
        }

        .floating-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.2);
        }

        .neon-button {
            background: linear-gradient(45deg, var(--primary-blue), var(--primary-green));
            border: none;
            border-radius: 50px;
            padding: 15px 30px;
            font-family: 'Lexend', sans-serif;
            font-weight: 600;
            font-size: 18px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 20px rgba(0, 174, 239, 0.5);
            position: relative;
            overflow: hidden;
        }

        .neon-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }

        .neon-button:hover::before {
            left: 100%;
        }

        .neon-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(0, 174, 239, 0.8);
        }

        .call-button {
            background: linear-gradient(45deg, #FF6B6B, #FF8E53);
            margin: 30px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: fit-content;
        }

        .call-button:hover {
            box-shadow: 0 0 30px rgba(255, 107, 107, 0.8);
        }

        .status-pending {
            background: var(--pending-amber);
            box-shadow: 0 0 15px var(--pending-amber);
            animation: pulse 2s infinite;
        }

        .status-in-progress {
            background: var(--in-progress-blue);
            box-shadow: 0 0 15px var(--in-progress-blue);
            animation: pulse 1.5s infinite;
        }

        .status-resolved {
            background: var(--resolved-green);
            box-shadow: 0 0 15px var(--resolved-green);
        }

        .status-declined {
            background: var(--declined-red);
            box-shadow: 0 0 15px var(--declined-red);
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 15px currentColor; }
            50% { box-shadow: 0 0 25px currentColor; }
            100% { box-shadow: 0 0 15px currentColor; }
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(20px, 20px); }
            50% { transform: translate(0, 40px); }
            75% { transform: translate(-20px, 20px); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .blur-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(60px);
            z-index: -1;
            animation: float 15s infinite ease-in-out;
        }

        .orb-1 {
            width: 300px;
            height: 300px;
            background: rgba(0, 174, 239, 0.3);
            top: 10%;
            left: 10%;
            animation-duration: 15s;
        }

        .orb-2 {
            width: 250px;
            height: 250px;
            background: rgba(34, 197, 94, 0.3);
            bottom: 15%;
            right: 15%;
            animation-duration: 18s;
            animation-direction: reverse;
        }

        .header {
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            animation: fadeIn 1s ease-out;
        }

        .logo {
            font-family: 'Lexend', sans-serif;
            font-size: 32px;
            font-weight: 700;
            background: linear-gradient(45deg, var(--primary-blue), var(--primary-green));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: slideIn 0.8s ease-out;
        }

        .nav-links {
            display: flex;
            gap: 30px;
            animation: slideIn 1s ease-out;
        }

        .nav-link {
            font-family: 'Lexend', sans-serif;
            font-weight: 500;
            text-decoration: none;
            color: white;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(45deg, var(--primary-blue), var(--primary-green));
            transition: width 0.3s ease;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .nav-link:hover {
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
            transform: translateY(-2px);
        }

        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .hero-section {
            text-align: center;
            padding: 60px 20px;
            animation: fadeIn 1.2s ease-out;
        }

        .hero-title {
            font-family: 'Lexend', sans-serif;
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 20px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            animation: slideIn 0.8s ease-out;
        }

        .hero-subtitle {
            font-size: 20px;
            margin-bottom: 40px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            animation: fadeIn 1s ease-out 0.3s both;
        }

        .search-bar {
            max-width: 500px;
            margin: 30px auto;
            position: relative;
            animation: fadeIn 1s ease-out 0.5s both;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px 15px 50px;
            border-radius: 50px;
            border: 1px solid var(--glass-border);
            background: var(--glass-bg);
            backdrop-filter: var(--backdrop-blur);
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            box-shadow: 0 0 20px rgba(0, 174, 239, 0.5);
            transform: scale(1.02);
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 20px;
            transition: all 0.3s ease;
        }

        .search-input:focus + .search-icon {
            transform: translateY(-50%) scale(1.2);
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 50px;
        }

        .category-card {
            padding: 25px 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            animation: fadeIn 0.6s ease-out;
            animation-fill-mode: both;
        }

        .category-card:nth-child(1) { animation-delay: 0.1s; }
        .category-card:nth-child(2) { animation-delay: 0.2s; }
        .category-card:nth-child(3) { animation-delay: 0.3s; }
        .category-card:nth-child(4) { animation-delay: 0.4s; }
        .category-card:nth-child(5) { animation-delay: 0.5s; }
        .category-card:nth-child(6) { animation-delay: 0.6s; }
        .category-card:nth-child(7) { animation-delay: 0.7s; }

        .category-icon {
            font-size: 32px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .category-card:hover .category-icon {
            transform: scale(1.2) rotate(5deg);
        }

        .category-text {
            font-family: 'Lexend', sans-serif;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .category-card:hover .category-text {
            transform: translateY(-3px);
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        .form-section {
            display: none;
            padding: 40px;
            margin-top: 30px;
            animation: fadeIn 0.8s ease-out;
        }

        .form-group {
            margin-bottom: 25px;
            animation: fadeIn 0.6s ease-out;
            animation-fill-mode: both;
        }

        .form-group:nth-child(1) { animation-delay: 0.1s; }
        .form-group:nth-child(2) { animation-delay: 0.2s; }
        .form-group:nth-child(3) { animation-delay: 0.3s; }
        .form-group:nth-child(4) { animation-delay: 0.4s; }

        .form-label {
            display: block;
            margin-bottom: 10px;
            font-family: 'Lexend', sans-serif;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 15px;
            border-radius: 15px;
            border: 1px solid var(--glass-border);
            background: rgba(245, 245, 245, 0.9);
            color: #333;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            box-shadow: 0 0 15px rgba(0, 174, 239, 0.3);
            transform: translateY(-2px);
        }

        .form-select {
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23333' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1em;
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .map-container {
            height: 300px;
            border-radius: 15px;
            border: 1px solid var(--glass-border);
            background: var(--glass-bg);
            backdrop-filter: var(--backdrop-blur);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
        }

        .map-container:hover {
            transform: scale(1.02);
        }

        .map-placeholder {
            text-align: center;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .map-placeholder:hover {
            transform: scale(1.05);
        }

        .map-controls {
            position: absolute;
            top: 15px;
            right: 15px;
            display: flex;
            gap: 10px;
        }

        .map-button {
            padding: 8px 15px;
            border-radius: 20px;
            border: none;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .map-button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .upload-zone {
            border: 2px dashed var(--glass-border);
            border-radius: 15px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            background: rgba(245, 245, 245, 0.9);
        }

        .upload-zone:hover {
            background: rgba(235, 235, 235, 0.9);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .upload-zone.dragover {
            background: rgba(225, 225, 225, 0.9);
            border-color: var(--primary-blue);
            transform: scale(1.02);
            box-shadow: 0 0 20px rgba(0, 174, 239, 0.3);
        }

        .file-input {
            display: none;
        }

        .uploaded-files {
            margin-top: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .uploaded-file {
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 5px;
            animation: fadeIn 0.3s ease-out;
        }

        .remove-file {
            cursor: pointer;
            font-weight: bold;
            transition: all 0.2s ease;
        }

        .remove-file:hover {
            transform: scale(1.2);
            color: var(--declined-red);
        }

        .tracking-section {
            display: none;
            padding: 40px;
            margin-top: 30px;
            animation: fadeIn 0.8s ease-out;
        }

        .progress-tracker {
            display: flex;
            justify-content: space-between;
            margin: 40px 0;
            position: relative;
        }

        .progress-tracker::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--glass-bg);
            z-index: 1;
            transition: all 0.5s ease;
        }

        .progress-step {
            text-align: center;
            z-index: 2;
            animation: fadeIn 0.6s ease-out;
        }

        .step-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--glass-bg);
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            border: 2px solid var(--glass-border);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            animation: pulse 2s infinite;
        }

        .step-label {
            font-size: 14px;
            font-family: 'Lexend', sans-serif;
            transition: all 0.3s ease;
        }

        .dashboard-section {
            display: none;
            padding: 40px;
            margin-top: 30px;
            animation: fadeIn 0.8s ease-out;
        }

        .reports-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .report-card {
            padding: 20px;
            animation: fadeIn 0.6s ease-out;
            animation-fill-mode: both;
        }

        .report-card:nth-child(1) { animation-delay: 0.1s; }
        .report-card:nth-child(2) { animation-delay: 0.2s; }
        .report-card:nth-child(3) { animation-delay: 0.3s; }

        .report-image {
            height: 150px;
            border-radius: 15px;
            background: var(--glass-bg);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .report-card:hover .report-image {
            transform: scale(1.05);
        }

        .report-status {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            color: #333;
            padding: 30px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            transform: translateY(-50px) scale(0.9);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .modal.active .modal-content {
            transform: translateY(0) scale(1);
        }

        .modal-button {
            padding: 10px 25px;
            border-radius: 25px;
            border: none;
            background: linear-gradient(45deg, var(--primary-blue), var(--primary-green));
            color: white;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(0, 174, 239, 0.3);
        }

        .modal-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(0, 174, 239, 0.5);
        }

        .call-modal-button {
            padding: 10px 25px;
            border-radius: 25px;
            border: none;
            background: linear-gradient(45deg, #FF6B6B, #FF8E53);
            color: white;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(255, 107, 107, 0.3);
        }

        .call-modal-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(255, 107, 107, 0.5);
        }

        .location-options {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .location-option {
            flex: 1;
            padding: 15px;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.2);
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .location-option:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-3px);
        }

        .location-option.active {
            background: rgba(0, 174, 239, 0.3);
            box-shadow: 0 0 20px rgba(0, 174, 239, 0.5);
            transform: translateY(-5px);
        }

        .success-animation {
            animation: bounce 0.6s ease-out;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-10px);}
            60% {transform: translateY(-5px);}
        }

        .call-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .call-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .call-modal-content {
            background: white;
            color: #333;
            padding: 40px;
            border-radius: 20px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            transform: translateY(-50px) scale(0.9);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .call-modal.active .call-modal-content {
            transform: translateY(0) scale(1);
        }

        .call-status {
            font-size: 24px;
            font-weight: bold;
            margin: 20px 0;
        }

        .call-duration {
            font-size: 18px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
        }

        .call-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .hangup-button {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #FF4757;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 20px rgba(255, 71, 87, 0.5);
            transition: all 0.3s ease;
        }

        .hangup-button:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(255, 71, 87, 0.8);
        }

        .voice-message {
            font-style: italic;
            color: #666;
            margin: 15px 0;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 20px;
            }
            
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .hero-title {
                font-size: 36px;
            }
            
            .categories-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .location-options {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="blur-orb orb-1"></div>
    <div class="blur-orb orb-2"></div>

    <header class="header">
        <div class="logo">TENANIKO</div>
        <nav class="nav-links">
            <a href="#" class="nav-link" onclick="showSection('home')">Home</a>
            <a href="#" class="nav-link" onclick="showSection('submit')">Submit Concern</a>
            <a href="#" class="nav-link" onclick="showSection('track')">Track</a>
            <a href="#" class="nav-link" onclick="showSection('dashboard')">Community</a>
        </nav>
    </header>

    <main class="main-content">
        <!-- Home Section -->
        <section id="home-section" class="hero-section">
            <h1 class="hero-title">Dumaguete City Service Hub</h1>
            <p class="hero-subtitle">Report concerns, track progress, and help build a better Dumaguete</p>
            
            <button class="neon-button" onclick="showSection('submit')">Report a Concern</button>
            <button class="neon-button call-button" onclick="startCall()">
                <span>üìû</span> Call LGU Hotline
            </button>
            
            <div class="search-bar glass-container">
                <span class="search-icon">üîç</span>
                <input type="text" class="search-input" placeholder="Track concern using ID..." id="home-track-input">
            </div>
            
            <div class="categories-grid">
                <div class="category-card glass-container floating-card" onclick="selectCategory('Infrastructure')">
                    <div class="category-icon">üõ†Ô∏è</div>
                    <div class="category-text">Infrastructure</div>
                </div>
                <div class="category-card glass-container floating-card" onclick="selectCategory('Waste Management')">
                    <div class="category-icon">üóëÔ∏è</div>
                    <div class="category-text">Waste Management</div>
                </div>
                <div class="category-card glass-container floating-card" onclick="selectCategory('Traffic & Transport')">
                    <div class="category-icon">üö¶</div>
                    <div class="category-text">Traffic & Transport</div>
                </div>
                <div class="category-card glass-container floating-card" onclick="selectCategory('Health & Sanitation')">
                    <div class="category-icon">üè•</div>
                    <div class="category-text">Health & Sanitation</div>
                </div>
                <div class="category-card glass-container floating-card" onclick="selectCategory('Utilities')">
                    <div class="category-icon">üîå</div>
                    <div class="category-text">Utilities</div>
                </div>
                <div class="category-card glass-container floating-card" onclick="selectCategory('LGU Services')">
                    <div class="category-icon">üèõÔ∏è</div>
                    <div class="category-text">LGU Services</div>
                </div>
                <div class="category-card glass-container floating-card" onclick="selectCategory('Others')">
                    <div class="category-icon">‚ûï</div>
                    <div class="category-text">Others</div>
                </div>
            </div>
        </section>

        <!-- Submit Concern Section -->
        <section id="submit-section" class="form-section glass-container">
            <h2 style="font-family: 'Lexend', sans-serif; margin-bottom: 30px;">Submit a Concern</h2>
            
            <div class="form-group">
                <label class="form-label">Location</label>
                <div class="location-options">
                    <div class="location-option active" onclick="selectLocationOption('map')">üìç Select on Map</div>
                    <div class="location-option" onclick="selectLocationOption('manual')">‚úèÔ∏è Manual Input</div>
                </div>
                
                <div id="map-location" style="display: block;">
                    <div class="map-container">
                        <div class="map-placeholder">
                            <div>üó∫Ô∏è Interactive Map</div>
                            <p>Click to select location or use current position</p>
                        </div>
                        <div class="map-controls">
                            <button class="map-button" onclick="useCurrentLocation()">üìç Use Current Location</button>
                        </div>
                    </div>
                </div>
                
                <div id="manual-location" style="display: none;">
                    <select class="form-select" id="barangay-select">
                        <option value="">Select Barangay</option>
                        <option value="Bagacay">Bagacay</option>
                        <option value="Bajumpandan">Bajumpandan</option>
                        <option value="Balugo">Balugo</option>
                        <option value="Banilad">Banilad</option>
                        <option value="Bantayan">Bantayan</option>
                        <option value="Batinguel">Batinguel</option>
                        <option value="Bu√±ao">Bu√±ao</option>
                        <option value="Cadawinonan">Cadawinonan</option>
                        <option value="Calindagan">Calindagan</option>
                        <option value="Camanjac">Camanjac</option>
                        <option value="Candau-ay">Candau-ay</option>
                        <option value="Cantil-e">Cantil-e</option>
                        <option value="Daro">Daro</option>
                        <option value="Junob">Junob</option>
                        <option value="Looc">Looc</option>
                        <option value="Mangnao-Canal">Mangnao-Canal</option>
                        <option value="Motong">Motong</option>
                        <option value="Piapi">Piapi</option>
                        <option value="Poblacion 1">Poblacion 1 (Barangay 1 or Tinago)</option>
                        <option value="Poblacion 2">Poblacion 2 (Barangay 2 or Upper Luke Wright)</option>
                        <option value="Poblacion 3">Poblacion 3 (Barangay 3 or Colon Ext.)</option>
                        <option value="Poblacion 4">Poblacion 4 (Barangay 4 or Rizal Boulevard)</option>
                        <option value="Poblacion 5">Poblacion 5 (Barangay 5 or Silliman Area)</option>
                        <option value="Poblacion 6">Poblacion 6 (Barangay 6 or Cambagroy)</option>
                        <option value="Poblacion 7">Poblacion 7 (Barangay 7 or Mangga)</option>
                        <option value="Poblacion 8">Poblacion 8 (Barangay 8 or Cervantes Extension)</option>
                        <option value="Pulantubig">Pulantubig</option>
                        <option value="Tabuc-tubig">Tabuc-tubig</option>
                        <option value="Taclobo">Taclobo</option>
                        <option value="Talay">Talay</option>
                    </select>
                    <input type="text" class="form-input" placeholder="Street Address (Optional)" style="margin-top: 15px;" id="street-address">
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Category</label>
                <select class="form-select" id="category-select">
                    <option value="">Select Category</option>
                    <option value="Infrastructure">Infrastructure</option>
                    <option value="Waste Management">Waste Management</option>
                    <option value="Traffic & Transport">Traffic & Transport</option>
                    <option value="Health & Sanitation">Health & Sanitation</option>
                    <option value="Utilities">Utilities</option>
                    <option value="LGU Services">LGU Services</option>
                    <option value="Others">Others</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-label">Upload Media</label>
                <div class="upload-zone glass-container" id="upload-zone">
                    <div>üì∑ Drag & Drop files here or click to browse</div>
                    <input type="file" class="file-input" id="file-input" multiple>
                </div>
                <div class="uploaded-files" id="uploaded-files"></div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Description</label>
                <textarea class="form-textarea" placeholder="Describe your concern..." id="description-input"></textarea>
            </div>
            
            <button class="neon-button" style="width: 100%;" onclick="submitConcern()">Submit Concern</button>
        </section>

        <!-- Tracking Section -->
        <section id="track-section" class="tracking-section glass-container">
            <h2 style="font-family: 'Lexend', sans-serif; margin-bottom: 30px;">Track Your Concern</h2>
            
            <div class="search-bar">
                <span class="search-icon">üîç</span>
                <input type="text" class="search-input" placeholder="Enter Concern ID..." id="track-input">
            </div>
            
            <div class="glass-container" style="padding: 30px; margin-top: 30px; display: none;" id="tracking-result">
                <h3 style="font-family: 'Lexend', sans-serif; margin-bottom: 20px;">Concern #<span id="concern-id">DGT-123456AB</span></h3>
                <p><strong>Category:</strong> <span id="concern-category">Infrastructure</span></p>
                <p><strong>Location:</strong> <span id="concern-location">Rizal Boulevard</span></p>
                <p><strong>Description:</strong> <span id="concern-description">Pothole near the bus terminal needs repair</span></p>
                
                <div class="progress-tracker" id="progress-tracker">
                    <div class="progress-step">
                        <div class="step-circle status-resolved" id="step-1">‚úì</div>
                        <div class="step-label">Received</div>
                    </div>
                    <div class="progress-step">
                        <div class="step-circle" id="step-2">2</div>
                        <div class="step-label">Under Review</div>
                    </div>
                    <div class="progress-step">
                        <div class="step-circle" id="step-3">3</div>
                        <div class="step-label">In Progress</div>
                    </div>
                    <div class="progress-step">
                        <div class="step-circle" id="step-4">4</div>
                        <div class="step-label">Resolved</div>
                    </div>
                </div>
                
                <div style="margin-top: 30px;">
                    <h4 style="font-family: 'Lexend', sans-serif; margin-bottom: 15px;">Status Updates</h4>
                    <div id="status-updates">
                        <!-- Status updates will be added here dynamically -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Community Dashboard Section -->
        <section id="dashboard-section" class="dashboard-section">
            <h2 style="font-family: 'Lexend', sans-serif; margin-bottom: 30px;">Community Dashboard</h2>
            
            <div class="glass-container" style="padding: 20px; margin-bottom: 30px;">
                <div style="display: flex; gap: 20px; flex-wrap: wrap;">
                    <select class="form-select" style="flex: 1; min-width: 200px; background: rgba(245, 245, 245, 0.9);" id="dashboard-category-filter">
                        <option value="">All Categories</option>
                        <option value="Infrastructure">Infrastructure</option>
                        <option value="Waste Management">Waste Management</option>
                        <option value="Traffic & Transport">Traffic & Transport</option>
                        <option value="Health & Sanitation">Health & Sanitation</option>
                        <option value="Utilities">Utilities</option>
                        <option value="LGU Services">LGU Services</option>
                        <option value="Others">Others</option>
                    </select>
                    <select class="form-select" style="flex: 1; min-width: 200px; background: rgba(245, 245, 245, 0.9);" id="dashboard-barangay-filter">
                        <option value="">All Barangays</option>
                        <option value="Bagacay">Bagacay</option>
                        <option value="Bajumpandan">Bajumpandan</option>
                        <option value="Balugo">Balugo</option>
                        <option value="Banilad">Banilad</option>
                        <option value="Bantayan">Bantayan</option>
                        <option value="Batinguel">Batinguel</option>
                        <option value="Bu√±ao">Bu√±ao</option>
                        <option value="Cadawinonan">Cadawinonan</option>
                        <option value="Calindagan">Calindagan</option>
                        <option value="Camanjac">Camanjac</option>
                        <option value="Candau-ay">Candau-ay</option>
                        <option value="Cantil-e">Cantil-e</option>
                        <option value="Daro">Daro</option>
                        <option value="Junob">Junob</option>
                        <option value="Looc">Looc</option>
                        <option value="Mangnao-Canal">Mangnao-Canal</option>
                        <option value="Motong">Motong</option>
                        <option value="Piapi">Piapi</option>
                        <option value="Poblacion 1">Poblacion 1</option>
                        <option value="Poblacion 2">Poblacion 2</option>
                        <option value="Poblacion 3">Poblacion 3</option>
                        <option value="Poblacion 4">Poblacion 4</option>
                        <option value="Poblacion 5">Poblacion 5</option>
                        <option value="Poblacion 6">Poblacion 6</option>
                        <option value="Poblacion 7">Poblacion 7</option>
                        <option value="Poblacion 8">Poblacion 8</option>
                        <option value="Pulantubig">Pulantubig</option>
                        <option value="Tabuc-tubig">Tabuc-tubig</option>
                        <option value="Taclobo">Taclobo</option>
                        <option value="Talay">Talay</option>
                    </select>
                </div>
            </div>
            
            <div class="reports-grid" id="reports-grid">
                <!-- Reports will be dynamically added here -->
            </div>
        </section>
    </main>

    <!-- Modal for notifications -->
    <div class="modal" id="notification-modal">
        <div class="modal-content glass-container">
            <h3 id="modal-title" style="font-family: 'Lexend', sans-serif; margin-bottom: 15px;">Notification</h3>
            <p id="modal-message"></p>
            <button class="modal-button" onclick="closeModal()">OK</button>
        </div>
    </div>

    <!-- Call Modal -->
    <div class="call-modal" id="call-modal">
        <div class="call-modal-content glass-container">
            <div style="font-size: 48px; margin-bottom: 20px;">üìû</div>
            <div class="call-status" id="call-status">Calling LGU Hotline...</div>
            <div class="voice-message" id="voice-message"></div>
            <div class="call-duration" id="call-duration">00:00</div>
            <div class="call-buttons">
                <button class="hangup-button" onclick="endCall()">‚úï</button>
            </div>
        </div>
    </div>

    <script>
        let uploadedFiles = [];
        let submittedConcerns = [];
        let progressTimers = {};
        let callInterval = null;
        let callStartTime = null;
        let callAudioContext = null;
        let callOscillator = null;
        let currentVoiceMessage = 0;
        let voiceMessages = [
            "Good Day! this is LGU Hotline",
            "Any concern will be catered immediately.",
            "Please describe your concern in detail.",
            "I'm sorry to hear that.",
            "Our team is ready to help you.",
            "We value your feedback and concerns.",
            "Your call is important to us.",
            "I've sent notifciation to the right department.",
             "Thank you for contacting LGU Hotline.",
        ];

        // Barangay list
        const barangays = [
            "Bagacay", "Bajumpandan", "Balugo", "Banilad", "Bantayan", "Batinguel", "Bu√±ao",
            "Cadawinonan", "Calindagan", "Camanjac", "Candau-ay", "Cantil-e", "Daro", "Junob",
            "Looc", "Mangnao-Canal", "Motong", "Piapi", "Poblacion 1", "Poblacion 2",
            "Poblacion 3", "Poblacion 4", "Poblacion 5", "Poblacion 6", "Poblacion 7",
            "Poblacion 8", "Pulantubig", "Tabuc-tubig", "Taclobo", "Talay"
        ];

        // Sample concerns for dashboard
        const sampleConcerns = [
            {
                id: "DGT-123456AB",
                category: "Infrastructure",
                location: "Rizal Boulevard",
                description: "Large pothole causing traffic issues",
                status: "In Progress",
                timestamp: "Oct 15, 2023 10:30 AM"
            },
            {
                id: "DGT-789012CD",
                category: "Waste Management",
                location: "Poblacion 3",
                description: "Missed garbage collection last week",
                status: "Resolved",
                timestamp: "Oct 14, 2023 2:15 PM"
            },
            {
                id: "DGT-345678EF",
                category: "Traffic & Transport",
                location: "Silliman University Area",
                description: "Street light outage near school entrance",
                status: "Pending",
                timestamp: "Oct 16, 2023 8:45 AM"
            }
        ];

        function showSection(section) {
            // Hide all sections with fade out
            const sections = ['home-section', 'submit-section', 'track-section', 'dashboard-section'];
            sections.forEach(sec => {
                const el = document.getElementById(sec);
                if (el.style.display !== 'none') {
                    el.style.animation = 'fadeOut 0.3s ease-out forwards';
                    setTimeout(() => {
                        el.style.display = 'none';
                        el.style.animation = '';
                    }, 300);
                }
            });
            
            // Show selected section with fade in
            setTimeout(() => {
                const targetSection = document.getElementById(section + '-section');
                targetSection.style.display = 'block';
                targetSection.style.animation = 'fadeIn 0.8s ease-out';
                setTimeout(() => {
                    targetSection.style.animation = '';
                }, 800);
                
                // If showing dashboard, populate reports
                if (section === 'dashboard') {
                    populateDashboardReports();
                }
            }, 300);
        }
        
        function selectCategory(category) {
            showSection('submit');
            document.getElementById('category-select').value = category;
            
            // Add animation effect
            const categoryCards = document.querySelectorAll('.category-card');
            categoryCards.forEach(card => {
                card.style.animation = 'bounce 0.6s ease-out';
                setTimeout(() => {
                    card.style.animation = '';
                }, 600);
            });
        }
        
        function selectLocationOption(option) {
            // Update active state
            document.querySelectorAll('.location-option').forEach(el => {
                el.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Show/hide location options
            if (option === 'map') {
                document.getElementById('map-location').style.display = 'block';
                document.getElementById('manual-location').style.display = 'none';
            } else {
                document.getElementById('map-location').style.display = 'none';
                document.getElementById('manual-location').style.display = 'block';
            }
        }
        
        function useCurrentLocation() {
            showModal('Location Detected', 'Your current location has been detected and set.');
            document.querySelector('.location-option').classList.add('success-animation');
        }
        
        // Drag and drop functionality
        const uploadZone = document.getElementById('upload-zone');
        const fileInput = document.getElementById('file-input');
        const uploadedFilesContainer = document.getElementById('uploaded-files');
        
        uploadZone.addEventListener('click', () => {
            fileInput.click();
        });
        
        uploadZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadZone.classList.add('dragover');
        });
        
        uploadZone.addEventListener('dragleave', () => {
            uploadZone.classList.remove('dragover');
        });
        
        uploadZone.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadZone.classList.remove('dragover');
            const files = e.dataTransfer.files;
            handleFiles(files);
        });
        
        fileInput.addEventListener('change', () => {
            handleFiles(fileInput.files);
        });
        
        function handleFiles(files) {
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                if (file.type.startsWith('image/')) {
                    uploadedFiles.push(file);
                    displayUploadedFile(file);
                }
            }
        }
        
        function displayUploadedFile(file) {
            const fileElement = document.createElement('div');
            fileElement.className = 'uploaded-file';
            fileElement.innerHTML = `
                <span>üì∑ ${file.name}</span>
                <span class="remove-file" onclick="removeFile('${file.name}')">&times;</span>
            `;
            uploadedFilesContainer.appendChild(fileElement);
        }
        
        function removeFile(fileName) {
            uploadedFiles = uploadedFiles.filter(file => file.name !== fileName);
            document.querySelectorAll('.uploaded-file').forEach(el => {
                if (el.textContent.includes(fileName)) {
                    el.remove();
                }
            });
        }
        
        function submitConcern() {
            const locationType = document.querySelector('.location-option.active').textContent.includes('Map') ? 'map' : 'manual';
            const category = document.getElementById('category-select').value;
            const description = document.getElementById('description-input').value;
            
            let location = '';
            if (locationType === 'manual') {
                const barangay = document.getElementById('barangay-select').value;
                const street = document.getElementById('street-address').value;
                if (!barangay) {
                    showModal('Error', 'Please select a barangay.');
                    return;
                }
                location = street ? `${street}, ${barangay}` : barangay;
            } else {
                location = 'Selected on Map';
            }
            
            if (!category) {
                showModal('Error', 'Please select a category.');
                return;
            }
            
            if (!description) {
                showModal('Error', 'Please provide a description.');
                return;
            }
            
            // Generate tracking ID with 6 numbers and 2 letters
            const trackingId = generateTrackingId();
            
            // Store concern data
            const concern = {
                id: trackingId,
                category: category,
                location: location,
                description: description,
                status: 'Received',
                timestamp: new Date().toLocaleString(),
                progress: 0 // 0 = Received, 1 = Under Review, 2 = In Progress, 3 = Resolved
            };
            
            submittedConcerns.push(concern);
            
            // Show success message with tracking ID
            showModal('Success', `Your concern has been submitted successfully! Tracking ID: ${trackingId}`);
            
            // Add success animation to button
            const submitBtn = event.target;
            submitBtn.classList.add('success-animation');
            setTimeout(() => {
                submitBtn.classList.remove('success-animation');
            }, 600);
            
            // Automatically show tracking for this concern
            setTimeout(() => {
                document.getElementById('track-input').value = trackingId;
                showSection('track');
                showTrackingResult();
            }, 2000);
            
            // Start progress simulation
            startProgressSimulation(concern);
            
            // Reset form
            document.getElementById('category-select').value = '';
            document.getElementById('description-input').value = '';
            document.getElementById('barangay-select').value = '';
            document.getElementById('street-address').value = '';
            uploadedFiles = [];
            uploadedFilesContainer.innerHTML = '';
        }
        
        function generateTrackingId() {
            // Generate 6 random digits
            const digits = Math.floor(100000 + Math.random() * 900000);
            // Generate 2 random uppercase letters
            const letters = String.fromCharCode(65 + Math.floor(Math.random() * 26)) + 
                           String.fromCharCode(65 + Math.floor(Math.random() * 26));
            return `DGT-${digits}${letters}`;
        }
        
        function startProgressSimulation(concern) {
            // Add initial status update
            addStatusUpdateToConcern(concern, 'Received', 'Concern received and logged into the system');
            
            // Schedule Under Review (after 1 minute)
            setTimeout(() => {
                if (concern.progress === 0) {
                    concern.progress = 1;
                    concern.status = 'Under Review';
                    updateConcernDisplay(concern);
                    addStatusUpdateToConcern(concern, 'Under Review', 'Concern reviewed by department head. Assigned to Public Works Department');
                }
            }, 60000); // 1 minute
            
            // Schedule In Progress (after 3 minutes total)
            setTimeout(() => {
                if (concern.progress === 1) {
                    concern.progress = 2;
                    concern.status = 'In Progress';
                    updateConcernDisplay(concern);
                    addStatusUpdateToConcern(concern, 'In Progress', 'Inspection completed. Repair work scheduled for tomorrow');
                }
            }, 180000); // 3 minutes
            
            // Schedule Resolved (after 5 minutes 30 seconds total)
            setTimeout(() => {
                if (concern.progress === 2) {
                    concern.progress = 3;
                    concern.status = 'Resolved';
                    updateConcernDisplay(concern);
                    addStatusUpdateToConcern(concern, 'Resolved', 'Repair work completed. Issue resolved');
                }
            }, 330000); // 5 minutes 30 seconds
        }
        
        function updateConcernDisplay(concern) {
            // If this concern is currently being tracked, update the display
            const trackingId = document.getElementById('track-input').value;
            if (trackingId === concern.id) {
                updateProgressDisplay(concern.progress);
            }
        }
        
        function addStatusUpdateToConcern(concern, status, message) {
            // If this concern is currently being tracked, add to display
            const trackingId = document.getElementById('track-input').value;
            if (trackingId === concern.id) {
                const updatesContainer = document.getElementById('status-updates');
                const timestamp = new Date().toLocaleString();
                
                const updateElement = document.createElement('div');
                updateElement.style.background = 'rgba(255,255,255,0.1)';
                updateElement.style.padding = '15px';
                updateElement.style.borderRadius = '15px';
                updateElement.style.marginBottom = '10px';
                updateElement.style.animation = 'fadeIn 0.5s ease-out';
                updateElement.innerHTML = `<strong>${timestamp}</strong> - ${message}`;
                
                updatesContainer.insertBefore(updateElement, updatesContainer.firstChild);
            }
        }
        
        // Modal functions
        function showModal(title, message) {
            document.getElementById('modal-title').textContent = title;
            document.getElementById('modal-message').textContent = message;
            document.getElementById('notification-modal').classList.add('active');
        }
        
        function closeModal() {
            document.getElementById('notification-modal').classList.remove('active');
        }
        
        // Tracking functionality
        document.getElementById('track-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                showTrackingResult();
            }
        });
        
        document.getElementById('home-track-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                showSection('track');
                document.getElementById('track-input').value = this.value;
                showTrackingResult();
            }
        });
        
        function showTrackingResult() {
            const trackingId = document.getElementById('track-input').value.trim();
            const concern = submittedConcerns.find(c => c.id === trackingId);
            
            if (!concern) {
                showModal('Not Found', 'Concern with this ID not found. Please check the ID and try again.');
                return;
            }
            
            // Update tracking result display
            document.getElementById('concern-id').textContent = concern.id;
            document.getElementById('concern-category').textContent = concern.category;
            document.getElementById('concern-location').textContent = concern.location;
            document.getElementById('concern-description').textContent = concern.description;
            
            const trackingResult = document.getElementById('tracking-result');
            trackingResult.style.display = 'block';
            trackingResult.style.animation = 'fadeIn 0.6s ease-out';
            
            // Update progress display based on current status
            updateProgressDisplay(concern.progress);
            
            // Display existing status updates
            displayStatusUpdates(concern);
        }
        
        function updateProgressDisplay(progress) {
            // Reset all steps
            for (let i = 1; i <= 4; i++) {
                const step = document.getElementById(`step-${i}`);
                step.className = 'step-circle';
                step.textContent = i;
            }
            
            // Update completed steps
            for (let i = 1; i <= 4; i++) {
                const step = document.getElementById(`step-${i}`);
                if (i <= progress + 1) {
                    if (i <= progress) {
                        step.className = 'step-circle status-resolved';
                        step.textContent = '‚úì';
                        step.style.animation = 'bounce 0.6s ease-out';
                    } else {
                        step.className = 'step-circle status-in-progress';
                        step.textContent = i;
                        step.style.animation = 'pulse 1.5s infinite';
                    }
                }
            }
        }
        
        function displayStatusUpdates(concern) {
            const updatesContainer = document.getElementById('status-updates');
            updatesContainer.innerHTML = '';
            
            // Add status updates based on progress
            const statuses = [
                { status: 'Received', message: 'Concern received and logged into the system' },
                { status: 'Under Review', message: 'Concern reviewed by department head. Assigned to Public Works Department' },
                { status: 'In Progress', message: 'Inspection completed. Repair work scheduled for tomorrow' },
                { status: 'Resolved', message: 'Repair work completed. Issue resolved' }
            ];
            
            for (let i = 0; i <= concern.progress; i++) {
                const status = statuses[i];
                const updateElement = document.createElement('div');
                updateElement.style.background = 'rgba(255,255,255,0.1)';
                updateElement.style.padding = '15px';
                updateElement.style.borderRadius = '15px';
                updateElement.style.marginBottom = '10px';
                updateElement.style.animation = 'fadeIn 0.5s ease-out';
                updateElement.innerHTML = `<strong>${concern.timestamp}</strong> - ${status.message}`;
                updatesContainer.insertBefore(updateElement, updatesContainer.firstChild);
            }
        }
        
        // Dashboard functionality
        function populateDashboardReports() {
            const reportsGrid = document.getElementById('reports-grid');
            reportsGrid.innerHTML = '';
            
            const categoryFilter = document.getElementById('dashboard-category-filter').value;
            const barangayFilter = document.getElementById('dashboard-barangay-filter').value;
            
            let filteredConcerns = [...sampleConcerns, ...submittedConcerns];
            
            if (categoryFilter) {
                filteredConcerns = filteredConcerns.filter(concern => concern.category === categoryFilter);
            }
            
            if (barangayFilter) {
                filteredConcerns = filteredConcerns.filter(concern => concern.location.includes(barangayFilter));
            }
            
            filteredConcerns.forEach(concern => {
                const reportCard = document.createElement('div');
                reportCard.className = 'report-card glass-container floating-card';
                reportCard.innerHTML = `
                    <div class="report-image">üì∑ Image Placeholder</div>
                    <h4 style="font-family: 'Lexend', sans-serif;">${concern.category}</h4>
                    <p>${concern.description}</p>
                    <span class="report-status status-${concern.status.toLowerCase().replace(' ', '-')}">${concern.status}</span>
                `;
                reportsGrid.appendChild(reportCard);
            });
        }
        
        // Add event listeners for dashboard filters
        document.getElementById('dashboard-category-filter').addEventListener('change', populateDashboardReports);
        document.getElementById('dashboard-barangay-filter').addEventListener('change', populateDashboardReports);
        
        // Call functionality
        function startCall() {
            const callModal = document.getElementById('call-modal');
            const callStatus = document.getElementById('call-status');
            const callDuration = document.getElementById('call-duration');
            const voiceMessage = document.getElementById('voice-message');
            
            callModal.classList.add('active');
            callStatus.textContent = 'Calling LGU Hotline...';
            callDuration.textContent = '00:00';
            voiceMessage.textContent = '';
            
            // Play outgoing call tone
            playOutgoingTone();
            
            // Simulate call connection after 3 seconds
            setTimeout(() => {
                stopTone();
                callStatus.textContent = 'Connected';
                callStatus.style.color = '#22C55E';
                
                // Start call timer
                callStartTime = new Date();
                callInterval = setInterval(updateCallDuration, 1000);
                
                // Play voice messages
                playVoiceMessages();
            }, 3000);
        }
        
        function playVoiceMessages() {
            const voiceMessage = document.getElementById('voice-message');
            currentVoiceMessage = 0;
            
            // Play first message immediately
            playVoiceMessage(voiceMessages[currentVoiceMessage]);
            
            // Play subsequent messages every 5 seconds
            const messageInterval = setInterval(() => {
                currentVoiceMessage++;
                if (currentVoiceMessage < voiceMessages.length && document.getElementById('call-modal').classList.contains('active')) {
                    playVoiceMessage(voiceMessages[currentVoiceMessage]);
                } else {
                    clearInterval(messageInterval);
                }
            }, 5000);
        }
        
        function playVoiceMessage(message) {
            const voiceMessage = document.getElementById('voice-message');
            voiceMessage.textContent = `"${message}"`;
            voiceMessage.style.animation = 'fadeIn 0.5s ease-out';
            
            // Simulate voice message with text-to-speech
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(message);
                utterance.rate = 0.9;
                utterance.pitch = 1.0;
                utterance.volume = 1.0;
                speechSynthesis.speak(utterance);
            }
        }
        
        function endCall() {
            const callModal = document.getElementById('call-modal');
            const callStatus = document.getElementById('call-status');
            const voiceMessage = document.getElementById('voice-message');
            
            callModal.classList.remove('active');
            callStatus.style.color = '';
            voiceMessage.textContent = '';
            
            // Stop call timer
            if (callInterval) {
                clearInterval(callInterval);
                callInterval = null;
            }
            
            // Stop any playing tones
            stopTone();
            
            // Play disconnected tone
            playDisconnectedTone();
            
            // Show call ended notification
            setTimeout(() => {
                showModal('Call Ended', 'Your call with LGU Hotline has been disconnected.');
            }, 1000);
        }
        
        function updateCallDuration() {
            const callDuration = document.getElementById('call-duration');
            const now = new Date();
            const diff = Math.floor((now - callStartTime) / 1000);
            const minutes = Math.floor(diff / 60).toString().padStart(2, '0');
            const seconds = (diff % 60).toString().padStart(2, '0');
            callDuration.textContent = `${minutes}:${seconds}`;
        }
        
        function playOutgoingTone() {
            try {
                // Create audio context for outgoing call tone
                callAudioContext = new (window.AudioContext || window.webkitAudioContext)();
                callOscillator = callAudioContext.createOscillator();
                const gainNode = callAudioContext.createGain();
                
                callOscillator.connect(gainNode);
                gainNode.connect(callAudioContext.destination);
                
                // Set outgoing call tone frequencies (dual tone)
                callOscillator.type = 'sine';
                callOscillator.frequency.setValueAtTime(440, callAudioContext.currentTime);
                
                // Create second oscillator for dual tone
                const oscillator2 = callAudioContext.createOscillator();
                oscillator2.type = 'sine';
                oscillator2.frequency.setValueAtTime(350, callAudioContext.currentTime);
                oscillator2.connect(gainNode);
                
                // Set volume
                gainNode.gain.setValueAtTime(0.1, callAudioContext.currentTime);
                
                // Start oscillators
                callOscillator.start();
                oscillator2.start();
                
                // Stop after 1 second and repeat
                setTimeout(() => {
                    callOscillator.stop();
                    oscillator2.stop();
                    if (document.getElementById('call-status').textContent === 'Calling LGU Hotline...') {
                        playOutgoingTone();
                    }
                }, 1000);
            } catch (e) {
                console.log('Audio not supported in this environment');
            }
        }
        
        function playDisconnectedTone() {
            try {
                // Create audio context for disconnected tone
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                // Set disconnected tone frequency
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // C5
                
                // Set volume envelope
                gainNode.gain.setValueAtTime(0, audioContext.currentTime);
                gainNode.gain.linearRampToValueAtTime(0.3, audioContext.currentTime + 0.01);
                gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + 0.3);
                
                // Start and stop oscillator
                oscillator.start();
                oscillator.stop(audioContext.currentTime + 0.3);
            } catch (e) {
                console.log('Audio not supported in this environment');
            }
        }
        
        function stopTone() {
            if (callOscillator) {
                callOscillator.stop();
                callOscillator = null;
            }
            if (callAudioContext) {
                callAudioContext.close();
                callAudioContext = null;
            }
        }
        
        // Add fadeOut animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeOut {
                from { opacity: 1; transform: translateY(0); }
                to { opacity: 0; transform: translateY(20px); }
            }
        `;
        document.head.appendChild(style);
        
        // Initialize with home section visible
        showSection('home');
    </script>
</body>
</html>